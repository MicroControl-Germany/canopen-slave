<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen FD Slave Stack: cos_nmt.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mc_logo_png.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CANopen FD Slave Stack
   </div>
   <div id="projectbrief">Making your systems precise, reliable and high-quality - Version 6.08</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_29f239331dc16a526dbfcb33f76a2f2c.html">source</a></li><li class="navelem"><a class="el" href="dir_d3012b80eda00fc63564e3363f5e4112.html">stack-cos</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cos_nmt.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The CANopen Network Management (NMT) is used to change the state of a CANopen slave node. In addition, the network state can be monitored via the Network Management Error Control (NMT-EC) service. This module provides the following functionality: </p><ul>
<li>NMT state change </li>
<li>NMT Error Control (heartbeat/node-guarding) </li>
<li>Send boot-up message </li>
<li>Callbacks for NMT state change</li>
</ul>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for cos_nmt.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="cos__nmt_8h__incl.png" border="0" usemap="#acos__nmt_8h" alt=""/></div>
<map name="acos__nmt_8h" id="acos__nmt_8h">
<area shape="rect" title="CANopen Slave Stack &#45; Network management functions (NMT) ." alt="" coords="125,5,209,32"/>
<area shape="rect" href="cos__defs_8h.html" title="CANopen Slave Stack &#45; General definitions." alt="" coords="123,80,210,107"/>
<area shape="rect" href="cp__core_8h.html" title="CANpie core functions." alt="" coords="13,155,93,181"/>
<area shape="rect" href="cp__msg_8h.html" title="CANpie message access" alt="" coords="101,229,181,256"/>
<area shape="rect" href="canopen_8h.html" title="General CANopen definitions." alt="" coords="206,229,290,256"/>
<area shape="rect" href="cos__conf_8h.html" title="CANopen Slave Stack &#45; General configuration." alt="" coords="230,155,317,181"/>
<area shape="rect" href="cp__fifo_8h.html" title="CANpie FIFO functions." alt="" coords="5,229,77,256"/>
<area shape="rect" href="canpie_8h.html" title="CANpie constants, structures and enumerations" alt="" coords="93,304,165,331"/>
<area shape="rect" href="mc__compiler_8h.html" title="Definition of compiler independent data types." alt="" coords="193,379,303,405"/>
<area shape="rect" title=" " alt="" coords="66,379,169,405"/>
<area shape="rect" title=" " alt="" coords="52,453,185,480"/>
<area shape="rect" title=" " alt="" coords="210,453,286,480"/>
<area shape="rect" title=" " alt="" coords="310,453,375,480"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7deb4c2eec6ddc21a8dad77dc06b3356"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a7deb4c2eec6ddc21a8dad77dc06b3356">CosNmtChangeNodeState</a> (uint8_t ubFailureV)</td></tr>
<tr class="separator:a7deb4c2eec6ddc21a8dad77dc06b3356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1a9df9669084ca7e1907a2fef736f4e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#ac1a9df9669084ca7e1907a2fef736f4e">CosNmtCheckNodeReset</a> (void)</td></tr>
<tr class="separator:ac1a9df9669084ca7e1907a2fef736f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6446b5b945a514680d174dcfcc18128"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#ae6446b5b945a514680d174dcfcc18128">CosNmtGetNodeState</a> (void)</td></tr>
<tr class="separator:ae6446b5b945a514680d174dcfcc18128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232ca7912109f5391bfc977569e7aba3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a232ca7912109f5391bfc977569e7aba3">CosNmtHeartbeatSend</a> (void)</td></tr>
<tr class="separator:a232ca7912109f5391bfc977569e7aba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa520aa65bc2653bd7193eabf3bbe30b2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#aa520aa65bc2653bd7193eabf3bbe30b2">CosNmtInit</a> (void)</td></tr>
<tr class="separator:aa520aa65bc2653bd7193eabf3bbe30b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3812b3db164e34b8fc12496a44ee264b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a3812b3db164e34b8fc12496a44ee264b">CosNmt_Idx100C</a> (uint8_t ubSubIndexV, uint8_t ubReqCodeV)</td></tr>
<tr class="separator:a3812b3db164e34b8fc12496a44ee264b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22edabcaaa72fadb74a4d9bf48fa1b65"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a22edabcaaa72fadb74a4d9bf48fa1b65">CosNmt_Idx100D</a> (uint8_t ubSubIndexV, uint8_t ubReqCodeV)</td></tr>
<tr class="separator:a22edabcaaa72fadb74a4d9bf48fa1b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1968e81a51b5cb321139a8e51b55e1d8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a1968e81a51b5cb321139a8e51b55e1d8">CosNmt_Idx1016</a> (uint8_t ubSubIndexV, uint8_t ubReqCodeV)</td></tr>
<tr class="separator:a1968e81a51b5cb321139a8e51b55e1d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db9ae90c0ae1f93f31fd2be54ef4c35"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a4db9ae90c0ae1f93f31fd2be54ef4c35">CosNmt_Idx1017</a> (uint8_t ubSubIndexV, uint8_t ubReqCodeV)</td></tr>
<tr class="separator:a4db9ae90c0ae1f93f31fd2be54ef4c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab169755911e65ef613d50254b82261ca"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#ab169755911e65ef613d50254b82261ca">CosNmt_Idx1029</a> (uint8_t ubSubIndexV, uint8_t ubReqCodeV)</td></tr>
<tr class="separator:ab169755911e65ef613d50254b82261ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69126e5016d9b37a1c2a7ed09ec623b1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a69126e5016d9b37a1c2a7ed09ec623b1">CosNmt_Idx1F80</a> (uint8_t ubSubIndexV, uint8_t ubReqCodeV)</td></tr>
<tr class="separator:a69126e5016d9b37a1c2a7ed09ec623b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41431518ed8178779ac8f1cff949865a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a41431518ed8178779ac8f1cff949865a">CosNmtMessageHandler</a> (void)</td></tr>
<tr class="separator:a41431518ed8178779ac8f1cff949865a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0166d320eaae8d79f1307901b805d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a1f0166d320eaae8d79f1307901b805d6">CosNmtServiceOnError</a> (void)</td></tr>
<tr class="separator:a1f0166d320eaae8d79f1307901b805d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987248df8ba06fb828e89ea1eb550c93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a987248df8ba06fb828e89ea1eb550c93">CosNmtServiceOnGuardingEvent</a> (void)</td></tr>
<tr class="separator:a987248df8ba06fb828e89ea1eb550c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149aa50b102c0091c89f213535bc3566"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a149aa50b102c0091c89f213535bc3566">CosNmtServiceOnHeartbeatEvent</a> (void)</td></tr>
<tr class="separator:a149aa50b102c0091c89f213535bc3566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5bbb1447cea18b0fe286832d2c9595a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#aa5bbb1447cea18b0fe286832d2c9595a">CosNmtServiceOnStart</a> (void)</td></tr>
<tr class="separator:aa5bbb1447cea18b0fe286832d2c9595a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df11c99952b7f0ffdd8bf87f9f31862"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a5df11c99952b7f0ffdd8bf87f9f31862">CosNmtServiceOnStop</a> (void)</td></tr>
<tr class="separator:a5df11c99952b7f0ffdd8bf87f9f31862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54830cdd4a14ac98e55958748b2a9f20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a54830cdd4a14ac98e55958748b2a9f20">CosNmtServiceOnPreOperational</a> (void)</td></tr>
<tr class="separator:a54830cdd4a14ac98e55958748b2a9f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2129c83d630ffce47988418d389139"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#aae2129c83d630ffce47988418d389139">CosNmtSetHeartbeatProd</a> (uint16_t uwTimeV)</td></tr>
<tr class="separator:aae2129c83d630ffce47988418d389139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19aa65397cbc0d68e266a6cff2fe5f9d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__nmt_8h.html#a19aa65397cbc0d68e266a6cff2fe5f9d">CosNmtSetHeartbeatCons</a> (uint8_t ubEntryV, uint8_t ubNodeIdV, uint16_t uwTimeV)</td></tr>
<tr class="separator:a19aa65397cbc0d68e266a6cff2fe5f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3812b3db164e34b8fc12496a44ee264b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3812b3db164e34b8fc12496a44ee264b">&#9670;&nbsp;</a></span>CosNmt_Idx100C()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmt_Idx100C </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubSubIndexV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubReqCodeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index 100C - Guard Time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubSubIndexV</td><td>sub-index </td></tr>
    <tr><td class="paramname">ubReqCodeV</td><td>read / write access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDO response code </dd></dl>

</div>
</div>
<a id="a22edabcaaa72fadb74a4d9bf48fa1b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22edabcaaa72fadb74a4d9bf48fa1b65">&#9670;&nbsp;</a></span>CosNmt_Idx100D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmt_Idx100D </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubSubIndexV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubReqCodeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index 100D - Life Time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubSubIndexV</td><td>sub-index </td></tr>
    <tr><td class="paramname">ubReqCodeV</td><td>read / write access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDO response code </dd></dl>

</div>
</div>
<a id="a1968e81a51b5cb321139a8e51b55e1d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1968e81a51b5cb321139a8e51b55e1d8">&#9670;&nbsp;</a></span>CosNmt_Idx1016()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmt_Idx1016 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubSubIndexV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubReqCodeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index 1016 - Consumer Heartbeat Timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubSubIndexV</td><td>sub-index </td></tr>
    <tr><td class="paramname">ubReqCodeV</td><td>read / write access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDO response code</dd></dl>
<p>The consumer heartbeat time defines the expected heartbeat cycle time and thus shall be higher than the corresponding producer heartbeat time configured on the CANopen device producing this heartbeat. Monitoring starts after the reception of the first heartbeat. The time is given in milliseconds. This function is a callback inside the object dictionary. </p>

</div>
</div>
<a id="a4db9ae90c0ae1f93f31fd2be54ef4c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4db9ae90c0ae1f93f31fd2be54ef4c35">&#9670;&nbsp;</a></span>CosNmt_Idx1017()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmt_Idx1017 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubSubIndexV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubReqCodeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index 1017 - Producer Heartbeat Timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubSubIndexV</td><td>sub-index </td></tr>
    <tr><td class="paramname">ubReqCodeV</td><td>read / write access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDO response code</dd></dl>
<p>The producer heartbeat time defines the cycle time of the heartbeat. The producer heartbeat time is 0 if not used. The time is a multiple of the timer constant COS_TIMER_PERIOD. Smaller periods are not possible. The time is given in milliseconds. This function is a callback inside the object dictionary. </p>

</div>
</div>
<a id="ab169755911e65ef613d50254b82261ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab169755911e65ef613d50254b82261ca">&#9670;&nbsp;</a></span>CosNmt_Idx1029()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmt_Idx1029 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubSubIndexV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubReqCodeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index 1029 - Error behaviour object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubSubIndexV</td><td>sub-index </td></tr>
    <tr><td class="paramname">ubReqCodeV</td><td>read / write access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDO response code</dd></dl>
<p>If a serious device failure is detected in Operational State, the module shall enter by default autonomously the pre-operational state. If object 1029h (Error Behaviour) is implemented, the device can be configured to enter alternatively the stopped state or remain in the current state in case of a device failure. Device failures shall include the following communication errors: </p><ul>
<li>Bus-off conditions of the CAN interface </li>
<li>Life guarding event with the state "ccurred" </li>
<li>Heartbeat event with state "occurred"</li>
</ul>
<p>Severe device errors also can be caused by device internal failures. </p>

</div>
</div>
<a id="a69126e5016d9b37a1c2a7ed09ec623b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69126e5016d9b37a1c2a7ed09ec623b1">&#9670;&nbsp;</a></span>CosNmt_Idx1F80()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmt_Idx1F80 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubSubIndexV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubReqCodeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index 1F80 - NMT Start-up. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubSubIndexV</td><td>sub-index </td></tr>
    <tr><td class="paramname">ubReqCodeV</td><td>read / write access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDO response code</dd></dl>
<p>This object configures the start-up behaviour of a device that is able to perform the NMT. Bits that control a feature that is not supported by the implementation are read-only. Object 1F80H is a configuration object. Internal state transitions do not change this object. The following values are possible for the CANopen slave implementation:</p>
<ul>
<li>0000 0000h : Do <b>not</b> enter Operational mode automatically, do not send NMT Start command (default) </li>
<li>0000 0006h : Enter Operational mode automatically, send NMT Start command </li>
<li>0000 000Ch : Enter Operational mode automatically, no NMT Start command </li>
</ul>

</div>
</div>
<a id="a7deb4c2eec6ddc21a8dad77dc06b3356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7deb4c2eec6ddc21a8dad77dc06b3356">&#9670;&nbsp;</a></span>CosNmtChangeNodeState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtChangeNodeState </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubFailureV</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change node state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubFailureV</td><td>Error reason</td></tr>
  </table>
  </dd>
</dl>
<p>This function changes the node state of the device depending on the contents of object 1029h (error behaviour). The parameter <code>ubFailureV</code> defines the reason for the failure: &lt;ul&gt; </p><ul>
<li>1 = communication error </li>
<li>2 .. N = Profile or manufacturer specific error &lt;/ul&gt; The maximum value for <code>ubFailureV</code> is defined by the symbol COS_DICT_OBJ_1029. For the failure type 'communication error' the function is called by the stack. </li>
</ul>

</div>
</div>
<a id="ac1a9df9669084ca7e1907a2fef736f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1a9df9669084ca7e1907a2fef736f4e">&#9670;&nbsp;</a></span>CosNmtCheckNodeReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmtCheckNodeReset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check Node Reset Request. </p>
<dl class="section return"><dt>Returns</dt><dd>Reset State</dd></dl>
<p>This function returns the node reset state (NODE_RESET_XXX). </p>

</div>
</div>
<a id="ae6446b5b945a514680d174dcfcc18128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6446b5b945a514680d174dcfcc18128">&#9670;&nbsp;</a></span>CosNmtGetNodeState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmtGetNodeState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check Node State. </p>
<dl class="section return"><dt>Returns</dt><dd>Node State</dd></dl>
<p>This function returns the node state (NODE_STATE_XXX). </p>

</div>
</div>
<a id="a232ca7912109f5391bfc977569e7aba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232ca7912109f5391bfc977569e7aba3">&#9670;&nbsp;</a></span>CosNmtHeartbeatSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtHeartbeatSend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Heartbeat Message. </p>
<p>This function is called by the timer service routine CosMgrTimerEvent() and sends the heartbeat message. </p>

</div>
</div>
<a id="aa520aa65bc2653bd7193eabf3bbe30b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa520aa65bc2653bd7193eabf3bbe30b2">&#9670;&nbsp;</a></span>CosNmtInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmtInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the NMT service. </p>
<dl class="section return"><dt>Returns</dt><dd>Protocol stack error codes</dd></dl>
<p>This function must be called by the application program prior to all other NMT functions. It is responsible for initializing the NMT service. </p>
<p>The function returns an error code defined the the enumeration <a class="el" href="cos__defs_8h.html#ad559c6541faef4f8afa177362deed296" title="Error Codes of protocol stack.">CosErr_e</a>. </p>

</div>
</div>
<a id="a41431518ed8178779ac8f1cff949865a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41431518ed8178779ac8f1cff949865a">&#9670;&nbsp;</a></span>CosNmtMessageHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtMessageHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate NMT messages. </p>
<p>This function is called by main message handler function CosMgrMessageHandler(). It evaluates the value of the first two bytes and sets the internal node state to an appropriate value. </p>

</div>
</div>
<a id="a1f0166d320eaae8d79f1307901b805d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0166d320eaae8d79f1307901b805d6">&#9670;&nbsp;</a></span>CosNmtServiceOnError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtServiceOnError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handler for NMT error condition. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Adopt this function to the application</dd></dl>
<p>This function is called when the NMT state machine changes receives an unknown NMT command, i.e. the identifier 0 with a DLC that does not match or data that does not match. The reaction on this event is application specific. The function implementation is located in the file cos_user.c. </p>

</div>
</div>
<a id="a987248df8ba06fb828e89ea1eb550c93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987248df8ba06fb828e89ea1eb550c93">&#9670;&nbsp;</a></span>CosNmtServiceOnGuardingEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtServiceOnGuardingEvent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handler for Guarding event. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>Adopt this function to the device profile</dd></dl>
<p>This functions is called upon the occurrence of a guarding event. The function implementation is located in the file cos_user.c. </p>

</div>
</div>
<a id="a149aa50b102c0091c89f213535bc3566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a149aa50b102c0091c89f213535bc3566">&#9670;&nbsp;</a></span>CosNmtServiceOnHeartbeatEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtServiceOnHeartbeatEvent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handler for Heartbeat event. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000016">Todo:</a></b></dt><dd>Adopt this function to the device profile</dd></dl>
<p>This functions is called upon the occurrence of a heartbeat event. The function implementation is located in the file cos_user.c. </p>

</div>
</div>
<a id="a54830cdd4a14ac98e55958748b2a9f20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54830cdd4a14ac98e55958748b2a9f20">&#9670;&nbsp;</a></span>CosNmtServiceOnPreOperational()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtServiceOnPreOperational </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function handler for NMT Pre-Operational. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000019">Todo:</a></b></dt><dd>Adopt this function to the device profile</dd></dl>
<p>This service routine is called when the NMT state machine changes into Pre-Operational. It can be used to perform device specific routines after reception of the NMT command. The function implementation is located in the file cos_user.c. </p>

</div>
</div>
<a id="aa5bbb1447cea18b0fe286832d2c9595a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5bbb1447cea18b0fe286832d2c9595a">&#9670;&nbsp;</a></span>CosNmtServiceOnStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtServiceOnStart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function handler for NMT Start. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000017">Todo:</a></b></dt><dd>Adopt this function to the device profile</dd></dl>
<p>This service routine is called when the NMT state machine changes into Start Node. It can be used to perform device specific routines after reception of the NMT command. The function implementation is located in the file cos_user.c. </p>

</div>
</div>
<a id="a5df11c99952b7f0ffdd8bf87f9f31862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df11c99952b7f0ffdd8bf87f9f31862">&#9670;&nbsp;</a></span>CosNmtServiceOnStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtServiceOnStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function handler for NMT Stop. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000018">Todo:</a></b></dt><dd>Adopt this function to the device profile</dd></dl>
<p>This service routine is called when the NMT state machine changes into Stop Node. It can be used to perform device specific routines after reception of the NMT command. The function implementation is located in the file cos_user.c. </p>

</div>
</div>
<a id="a19aa65397cbc0d68e266a6cff2fe5f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19aa65397cbc0d68e266a6cff2fe5f9d">&#9670;&nbsp;</a></span>CosNmtSetHeartbeatCons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosNmtSetHeartbeatCons </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubEntryV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNodeIdV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>uwTimeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup time for hearbeat consumer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubEntryV</td><td>- heartbeat consumer entry (0 .. N) </td></tr>
    <tr><td class="paramname">ubNodeIdV</td><td>- Node-ID to monitor </td></tr>
    <tr><td class="paramname">uwTimeV</td><td>- expected heartbeat cycle time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success</dd></dl>
<p>This function sets the heartbeat consumer time for the entry 'ubEntryV'. The maximum number of entries si defined via the symbol COS_DICT_OBJ_1016. The parameter uwTimeV denotes the time in milli-seconds. If the heartbeat consumer time is setup for the own node-ID or the supplied node-ID is already in use, the function will return the value 1. On success, the value 0 is returned. </p>

</div>
</div>
<a id="aae2129c83d630ffce47988418d389139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2129c83d630ffce47988418d389139">&#9670;&nbsp;</a></span>CosNmtSetHeartbeatProd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosNmtSetHeartbeatProd </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>uwTimeV</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup time for heartbeat producer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uwTimeV</td><td>- heartbeat cycle time</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets the heartbeat producer time. The parameter uwTimeV denotes the time in milli-seconds. By default, the heartbeat producer time is set to 0 during initialization. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer"><small>
<a href="http://www.microcontrol.net">
&copy; MicroControl GmbH &amp; Co. KG
</a>
</small></address>
</body>
</html>
