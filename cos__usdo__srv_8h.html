<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen FD Slave Stack: cos_usdo_srv.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mc_logo_png.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CANopen FD Slave Stack
   </div>
   <div id="projectbrief">Making your systems precise, reliable and high-quality - Version 6.08</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_29f239331dc16a526dbfcb33f76a2f2c.html">source</a></li><li class="navelem"><a class="el" href="dir_d3012b80eda00fc63564e3363f5e4112.html">stack-cos</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cos_usdo_srv.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>USDO services are intended for configuration and diagnostic tasks in CANopen FD systems. Nevertheless process data can be transferred via USDO services as well. The USDO service offers confirmed communication between one USDO client and one or several USDO servers. By means of the USDO protocol the USDO client has access to CANopen FD object dictionary entries supported in the CANopen FD devices in the network. The USDO services provide read and write access to sub-indexes in the USDO serversâ€™ object dictionary (see <a class="el" href="cos__dict_8h.html" title="CANopen Slave Stack - Dictionary.">cos_dict.h</a>). USDO services allow the transfer of any data size between the USDO client and the USDO server. The inherent routing capability of the USDO services enables data transfer over CANopen FD network borders; USDO client and USDO server are not necessarily connected to the same CAN. </p>
<p>The functions in this module are called by the CANopen slave manager on reception of a USDO request. </p>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for cos_usdo_srv.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="cos__usdo__srv_8h__incl.png" border="0" usemap="#acos__usdo__srv_8h" alt=""/></div>
<map name="acos__usdo__srv_8h" id="acos__usdo__srv_8h">
<area shape="rect" title="CANopen Slave Stack &#45; USDO server ." alt="" coords="109,5,225,32"/>
<area shape="rect" href="cos__defs_8h.html" title="CANopen Slave Stack &#45; General definitions." alt="" coords="123,80,210,107"/>
<area shape="rect" href="cp__core_8h.html" title="CANpie core functions." alt="" coords="13,155,93,181"/>
<area shape="rect" href="cp__msg_8h.html" title="CANpie message access" alt="" coords="101,229,181,256"/>
<area shape="rect" href="canopen_8h.html" title="General CANopen definitions." alt="" coords="206,229,290,256"/>
<area shape="rect" href="cos__conf_8h.html" title="CANopen Slave Stack &#45; General configuration." alt="" coords="230,155,317,181"/>
<area shape="rect" href="cp__fifo_8h.html" title="CANpie FIFO functions." alt="" coords="5,229,77,256"/>
<area shape="rect" href="canpie_8h.html" title="CANpie constants, structures and enumerations" alt="" coords="93,304,165,331"/>
<area shape="rect" href="mc__compiler_8h.html" title="Definition of compiler independent data types." alt="" coords="193,379,303,405"/>
<area shape="rect" title=" " alt="" coords="66,379,169,405"/>
<area shape="rect" title=" " alt="" coords="52,453,185,480"/>
<area shape="rect" title=" " alt="" coords="210,453,286,480"/>
<area shape="rect" title=" " alt="" coords="310,453,375,480"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6827f704c4b3b1b60d1b7e09c162b819"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__usdo__srv_8h.html#a6827f704c4b3b1b60d1b7e09c162b819">CosUsdoCopyMessageToValue</a> (void *pvdValueV, uint8_t ubDataTypeV)</td></tr>
<tr class="separator:a6827f704c4b3b1b60d1b7e09c162b819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0190d78f9285264683a29cdfacd2b0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__usdo__srv_8h.html#ab0190d78f9285264683a29cdfacd2b0b">CosUsdoCopyValueToMessage</a> (void *pvdValueV, uint8_t ubDataTypeV)</td></tr>
<tr class="separator:ab0190d78f9285264683a29cdfacd2b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace08d7fb87f98d93eac2d75d47a1bf54"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__usdo__srv_8h.html#ace08d7fb87f98d93eac2d75d47a1bf54">CosUsdoInit</a> (uint8_t ubNodeIdV)</td></tr>
<tr class="separator:ace08d7fb87f98d93eac2d75d47a1bf54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0769a81678fd32a2d159936cd82a372d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cos__usdo__srv_8h.html#a0769a81678fd32a2d159936cd82a372d">CosUsdoSendAbort</a> (uint8_t ubAbortCodeV)</td></tr>
<tr class="separator:a0769a81678fd32a2d159936cd82a372d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6827f704c4b3b1b60d1b7e09c162b819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6827f704c4b3b1b60d1b7e09c162b819">&#9670;&nbsp;</a></span>CosUsdoCopyMessageToValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosUsdoCopyMessageToValue </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvdValueV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubDataTypeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy data field from USDO message into value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvdValueV</td><td>- Pointer to value </td></tr>
    <tr><td class="paramname">ubDataTypeV</td><td>- Defines the value data type</td></tr>
  </table>
  </dd>
</dl>
<p>This function copies the USDO data field into the location defined by <em>pvdValueV</em>. Depending on the data type the byte order is assigned according to CiA 1301. </p>
<p>For convenience, this function is called by <a class="el" href="cos__sdo_8h.html#af328aa154a9ab2476b6becfc5251e468" title="Copy data field from SDO message into value.">CosSdoCopyMessageToValue()</a>. Hence access to objects inside the protocol stack are always handled by <a class="el" href="cos__sdo_8h.html#af328aa154a9ab2476b6becfc5251e468" title="Copy data field from SDO message into value.">CosSdoCopyMessageToValue()</a>, even if the device is operated in CANopen FD mode.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function is used internally by the CANopen FD protocol stack and should not be called by the user. </dd></dl>

</div>
</div>
<a id="ab0190d78f9285264683a29cdfacd2b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0190d78f9285264683a29cdfacd2b0b">&#9670;&nbsp;</a></span>CosUsdoCopyValueToMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosUsdoCopyValueToMessage </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvdValueV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubDataTypeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy value into USDO message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvdValueV</td><td>- Pointer to value </td></tr>
    <tr><td class="paramname">ubDataTypeV</td><td>- Defines the data type</td></tr>
  </table>
  </dd>
</dl>
<p>This function copies the given value into the data field of a USDO message. Depending on the data type the byte order is assigned according to CiA 1301.</p>
<p>For convenience, this function is called by <a class="el" href="cos__sdo_8h.html#a9f92f9fcc359c26c64e32c5a726ff29d" title="Copy value into SDO message.">CosSdoCopyValueToMessage()</a>. Hence access to objects inside the protocol stack are always handled by <a class="el" href="cos__sdo_8h.html#a9f92f9fcc359c26c64e32c5a726ff29d" title="Copy value into SDO message.">CosSdoCopyValueToMessage()</a>, even if the device is operated in CANopen FD mode.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function is used internally by the CANopen FD protocol stack and should not be called by the user. </dd></dl>

</div>
</div>
<a id="ace08d7fb87f98d93eac2d75d47a1bf54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace08d7fb87f98d93eac2d75d47a1bf54">&#9670;&nbsp;</a></span>CosUsdoInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CosUsdoInit </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNodeIdV</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize USDO service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubNodeIdV</td><td>- Device node-ID (NID) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error Code</dd></dl>
<p>This function initializes the USDO message buffers according to the given Node ID. </p>
<p>The function returns <a class="el" href="cos__defs_8h.html#ad559c6541faef4f8afa177362deed296a12422abaad7438ec073c5846e2ca3ed9">eCOS_ERR_NONE</a> on success or a code defined by the enumeration <a class="el" href="cos__defs_8h.html#ad559c6541faef4f8afa177362deed296" title="Error Codes of protocol stack.">CosErr_e</a> on error. </p>

</div>
</div>
<a id="a0769a81678fd32a2d159936cd82a372d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0769a81678fd32a2d159936cd82a372d">&#9670;&nbsp;</a></span>CosUsdoSendAbort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CosUsdoSendAbort </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubAbortCodeV</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ubAbortCodeV</td><td>- USDO Abort code</td></tr>
  </table>
  </dd>
</dl>
<p>This function is sends a USDO abort message. The abort code is taken from the enumeration UsdoAbort_e. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer"><small>
<a href="http://www.microcontrol.net">
&copy; MicroControl GmbH &amp; Co. KG
</a>
</small></address>
</body>
</html>
