<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5X74N6G74T"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-83LKN3YC2H');
</script>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen (FD) Slave Protocol Stack | mc_fifo.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
   //DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc-awesome.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">CANopen (FD) Slave Documentation</div>
   <div id="projectnumber">Version 6.14.00</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mc__fifo_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">mc_fifo.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The idea is that for FIFO implementation always the same API is used. This FIFO provide is completely implemented using macros and is optimised for embedded implementation. The special thing about implementing this FIFO is:</p><ul>
<li>flexibility</li>
<li>performance</li>
<li>usability</li>
</ul>
<p>To do all this 3 macros are used to put an entry IN and also 3 macros are used to put an entry OUT.</p>
<p>Steps to put an entry IN: 1) Make sure FIFO is not full, using <a class="el" href="mc__fifo_8h.html#a3c30e1126af099f3379dad26694dc2a1" title="This macro returns 1 if FIFO is full or 0 if not.">MC_FIFO_FULL</a> macro 2) Get pointer to the entry data, using <a class="el" href="mc__fifo_8h.html#a61adc7ea7307b280ad2b8421d7d50109" title="This macro returns pointer to next empty FIFO element.">MC_FIFO_DATA_IN_PTR</a> macro Now you can modify or copy new data to the pointed memory. 3) Increment number of FIFO entries when data update have been finished by using <a class="el" href="mc__fifo_8h.html#ad0182cb0c61881005400b23a08cb6d74" title="This macro have to be execute when data was written to the FIFO.">MC_FIFO_INC_IN</a> macro.</p>
<dl class="section attention"><dt>Attention</dt><dd>Please ensure that the order of the calls 2 to 3 must always be observed.</dd></dl>
<p>Steps to put an entry OUT: 1) Make sure FIFO is not empty, using #MC_FIFO_EMTPY macro 2) Get pointer to the entry data, using <a class="el" href="mc__fifo_8h.html#ad8333f7c0f986c78184764bd5a7e4166" title="This macro returns pointer to next FIFO out element.">MC_FIFO_DATA_OUT_PTR</a> macro Now you can modify or copy new data to the pointed memory. 3) Decrement number of FIFO entries when data have been processed by using <a class="el" href="mc__fifo_8h.html#a18729b62897b8af08bd5cf5616a318c0" title="This macro have to be execute when data was read from the FIFO.">MC_FIFO_INC_OUT</a> macro.</p>
<p>The advantage of this division is mainly in the embedded area. User may take data from FIFO write them to some transmission register. Sometime later when an transmit interrupt have been called, user can finally remove entry from FIFO using <a class="el" href="mc__fifo_8h.html#a18729b62897b8af08bd5cf5616a318c0" title="This macro have to be execute when data was read from the FIFO.">MC_FIFO_INC_OUT</a> macro.</p>
<dl class="section attention"><dt>Attention</dt><dd>Please ensure that you must check FIFO for full or empty depending on access, in other case data hold by FIFO may be overwritten. </dd></dl>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for mc_fifo.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mc__fifo_8h__incl.png" border="0" usemap="#amc__fifo_8h" alt=""/></div>
<map name="amc__fifo_8h" id="amc__fifo_8h">
<area shape="rect" title="Definitions and prototypes for FIFO implementation." alt="" coords="161,5,237,31"/>
<area shape="rect" href="mc__compiler_8h.html" title="Definition of compiler independent data types ." alt="" coords="146,79,253,104"/>
<area shape="rect" title=" " alt="" coords="5,152,137,177"/>
<area shape="rect" title=" " alt="" coords="162,152,237,177"/>
<area shape="rect" title=" " alt="" coords="261,152,327,177"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMcFifoCtrl__s.html">McFifoCtrl_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a61adc7ea7307b280ad2b8421d7d50109"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__fifo_8h.html#a61adc7ea7307b280ad2b8421d7d50109">MC_FIFO_DATA_IN_PTR</a>(ctrl,  pdata)&#160;&#160;&#160;(pdata + ctrl.ulIndexIn)</td></tr>
<tr class="separator:a61adc7ea7307b280ad2b8421d7d50109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8333f7c0f986c78184764bd5a7e4166"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__fifo_8h.html#ad8333f7c0f986c78184764bd5a7e4166">MC_FIFO_DATA_OUT_PTR</a>(ctrl,  pdata)&#160;&#160;&#160;(pdata + ctrl.ulIndexOut)</td></tr>
<tr class="separator:ad8333f7c0f986c78184764bd5a7e4166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96dad2eb5021c634a6082d44de1dacc7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__fifo_8h.html#a96dad2eb5021c634a6082d44de1dacc7">MC_FIFO_EMPTY</a>(ctrl)&#160;&#160;&#160;((ctrl.ulState == 0x0001) ? 1 : 0)</td></tr>
<tr class="separator:a96dad2eb5021c634a6082d44de1dacc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c30e1126af099f3379dad26694dc2a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__fifo_8h.html#a3c30e1126af099f3379dad26694dc2a1">MC_FIFO_FULL</a>(ctrl)&#160;&#160;&#160;((ctrl.ulState == 0x0002) ? 1 : 0)</td></tr>
<tr class="separator:a3c30e1126af099f3379dad26694dc2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0182cb0c61881005400b23a08cb6d74"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__fifo_8h.html#ad0182cb0c61881005400b23a08cb6d74">MC_FIFO_INC_IN</a>(ctrl)</td></tr>
<tr class="separator:ad0182cb0c61881005400b23a08cb6d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18729b62897b8af08bd5cf5616a318c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__fifo_8h.html#a18729b62897b8af08bd5cf5616a318c0">MC_FIFO_INC_OUT</a>(ctrl)</td></tr>
<tr class="separator:a18729b62897b8af08bd5cf5616a318c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31899fe33c496afce6f680e7b4eff65"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__fifo_8h.html#ac31899fe33c496afce6f680e7b4eff65">MC_FIFO_INIT</a>(ctrl,  size)</td></tr>
<tr class="separator:ac31899fe33c496afce6f680e7b4eff65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a61adc7ea7307b280ad2b8421d7d50109" name="a61adc7ea7307b280ad2b8421d7d50109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61adc7ea7307b280ad2b8421d7d50109">&#9670;&#160;</a></span>MC_FIFO_DATA_IN_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MC_FIFO_DATA_IN_PTR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctrl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pdata&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(pdata + ctrl.ulIndexIn)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro returns pointer to next empty FIFO element. </p>
<p>Value ctrl have to be a (static) variable from type of McFifoCtrl_ts structure. Value pdata is pointer to the FIFO array.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="structMcFifoCtrl__s.html">McFifoCtrl_ts</a> tsFifoCntrlS;</div>
<div class="line"><span class="keyword">static</span> uint32_t atsFifoDataS[NUMBER_OF_FIFO_ENTRIES];</div>
<div class="line"> </div>
<div class="line">uint32_t * pulFifoInEntryT;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (!(<a class="code hl_define" href="mc__fifo_8h.html#a3c30e1126af099f3379dad26694dc2a1">MC_FIFO_FULL</a>(tsFifoCntrlS)))</div>
<div class="line">{</div>
<div class="line">   pulFifoInEntryT = <a class="code hl_define" href="mc__fifo_8h.html#a61adc7ea7307b280ad2b8421d7d50109">MC_FIFO_DATA_IN_PTR</a>(tsFifoCntrlS,atsFifoDataS);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// set new data of entry</span></div>
<div class="line">   pulFifoInEntryT = 0x12345678;</div>
<div class="line"> </div>
<div class="line">   <a class="code hl_define" href="mc__fifo_8h.html#ad0182cb0c61881005400b23a08cb6d74">MC_FIFO_INC_IN</a>(tsFifoCntrlS);</div>
<div class="line">}</div>
<div class="ttc" id="amc__fifo_8h_html_a3c30e1126af099f3379dad26694dc2a1"><div class="ttname"><a href="mc__fifo_8h.html#a3c30e1126af099f3379dad26694dc2a1">MC_FIFO_FULL</a></div><div class="ttdeci">#define MC_FIFO_FULL(ctrl)</div><div class="ttdoc">This macro returns 1 if FIFO is full or 0 if not.</div><div class="ttdef"><b>Definition:</b> mc_fifo.h:256</div></div>
<div class="ttc" id="amc__fifo_8h_html_a61adc7ea7307b280ad2b8421d7d50109"><div class="ttname"><a href="mc__fifo_8h.html#a61adc7ea7307b280ad2b8421d7d50109">MC_FIFO_DATA_IN_PTR</a></div><div class="ttdeci">#define MC_FIFO_DATA_IN_PTR(ctrl, pdata)</div><div class="ttdoc">This macro returns pointer to next empty FIFO element.</div><div class="ttdef"><b>Definition:</b> mc_fifo.h:159</div></div>
<div class="ttc" id="amc__fifo_8h_html_ad0182cb0c61881005400b23a08cb6d74"><div class="ttname"><a href="mc__fifo_8h.html#ad0182cb0c61881005400b23a08cb6d74">MC_FIFO_INC_IN</a></div><div class="ttdeci">#define MC_FIFO_INC_IN(ctrl)</div><div class="ttdoc">This macro have to be execute when data was written to the FIFO.</div><div class="ttdef"><b>Definition:</b> mc_fifo.h:267</div></div>
<div class="ttc" id="astructMcFifoCtrl__s_html"><div class="ttname"><a href="structMcFifoCtrl__s.html">McFifoCtrl_s</a></div><div class="ttdoc">This structure holds administration variables of a FIFO.</div><div class="ttdef"><b>Definition:</b> mc_fifo.h:106</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ad8333f7c0f986c78184764bd5a7e4166" name="ad8333f7c0f986c78184764bd5a7e4166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8333f7c0f986c78184764bd5a7e4166">&#9670;&#160;</a></span>MC_FIFO_DATA_OUT_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MC_FIFO_DATA_OUT_PTR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctrl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pdata&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(pdata + ctrl.ulIndexOut)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro returns pointer to next FIFO out element. </p>
<p>Value ctrl have to be a (static) variable from type of McFifoCtrl_ts structure. Value pdata is pointer to the FIFO array.</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="structMcFifoCtrl__s.html">McFifoCtrl_ts</a> tsFifoCntrlS;</div>
<div class="line"><span class="keyword">static</span> uint32_t atsFifoDataS[NUMBER_OF_FIFO_ENTRIES];</div>
<div class="line"> </div>
<div class="line">uint32_t * pulFifoOutEntryT;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (!(<a class="code hl_define" href="mc__fifo_8h.html#a96dad2eb5021c634a6082d44de1dacc7">MC_FIFO_EMPTY</a>(tsFifoCntrlS)))</div>
<div class="line">{</div>
<div class="line">   pulFifoOutEntryT = <a class="code hl_define" href="mc__fifo_8h.html#ad8333f7c0f986c78184764bd5a7e4166">MC_FIFO_DATA_OUT_PTR</a>(tsFifoCntrlS,atsFifoDataS);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// handle pulFifoOutEntryT data from FIFO</span></div>
<div class="line">   ...</div>
<div class="line"> </div>
<div class="line">   <a class="code hl_define" href="mc__fifo_8h.html#a18729b62897b8af08bd5cf5616a318c0">MC_FIFO_INC_OUT</a>(tsFifoCntrlS);</div>
<div class="line">}</div>
<div class="ttc" id="amc__fifo_8h_html_a18729b62897b8af08bd5cf5616a318c0"><div class="ttname"><a href="mc__fifo_8h.html#a18729b62897b8af08bd5cf5616a318c0">MC_FIFO_INC_OUT</a></div><div class="ttdeci">#define MC_FIFO_INC_OUT(ctrl)</div><div class="ttdoc">This macro have to be execute when data was read from the FIFO.</div><div class="ttdef"><b>Definition:</b> mc_fifo.h:289</div></div>
<div class="ttc" id="amc__fifo_8h_html_a96dad2eb5021c634a6082d44de1dacc7"><div class="ttname"><a href="mc__fifo_8h.html#a96dad2eb5021c634a6082d44de1dacc7">MC_FIFO_EMPTY</a></div><div class="ttdeci">#define MC_FIFO_EMPTY(ctrl)</div><div class="ttdoc">This macro returns 1 if FIFO is empty or 0 if not.</div><div class="ttdef"><b>Definition:</b> mc_fifo.h:222</div></div>
<div class="ttc" id="amc__fifo_8h_html_ad8333f7c0f986c78184764bd5a7e4166"><div class="ttname"><a href="mc__fifo_8h.html#ad8333f7c0f986c78184764bd5a7e4166">MC_FIFO_DATA_OUT_PTR</a></div><div class="ttdeci">#define MC_FIFO_DATA_OUT_PTR(ctrl, pdata)</div><div class="ttdoc">This macro returns pointer to next FIFO out element.</div><div class="ttdef"><b>Definition:</b> mc_fifo.h:188</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a96dad2eb5021c634a6082d44de1dacc7" name="a96dad2eb5021c634a6082d44de1dacc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96dad2eb5021c634a6082d44de1dacc7">&#9670;&#160;</a></span>MC_FIFO_EMPTY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MC_FIFO_EMPTY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctrl</td><td>)</td>
          <td>&#160;&#160;&#160;((ctrl.ulState == 0x0001) ? 1 : 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro returns 1 if FIFO is empty or 0 if not. </p>
<p>Value x have to be a (static) variable from type of McFifoCtrl_ts structure. e.g : </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="structMcFifoCtrl__s.html">McFifoCtrl_ts</a> tsFifoCntrlS;</div>
<div class="line"><span class="keyword">static</span> uint32_t atsFifoDataS[NUMBER_OF_FIFO_ENTRIES];</div>
<div class="line"> </div>
<div class="line">uint32_t * pulFifoOutEntryT;</div>
<div class="line">...</div>
<div class="line">if (!<a class="code hl_define" href="mc__fifo_8h.html#a96dad2eb5021c634a6082d44de1dacc7">MC_FIFO_EMPTY</a>(tsMcFifoCtrlS))</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// access to next data of FIFO</span></div>
<div class="line">   pulFifoOutEntryT = <a class="code hl_define" href="mc__fifo_8h.html#ad8333f7c0f986c78184764bd5a7e4166">MC_FIFO_DATA_OUT_PTR</a>(tsFifoCntrlS,atsFifoDataS);</div>
<div class="line"> </div>
<div class="line">   ...</div>
<div class="line"> </div>
<div class="line">   <a class="code hl_define" href="mc__fifo_8h.html#a18729b62897b8af08bd5cf5616a318c0">MC_FIFO_INC_OUT</a>(tsMcFifoCtrlS);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">   <span class="keywordflow">return</span> CpErr_FIFO_EMPTY;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a3c30e1126af099f3379dad26694dc2a1" name="a3c30e1126af099f3379dad26694dc2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c30e1126af099f3379dad26694dc2a1">&#9670;&#160;</a></span>MC_FIFO_FULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MC_FIFO_FULL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctrl</td><td>)</td>
          <td>&#160;&#160;&#160;((ctrl.ulState == 0x0002) ? 1 : 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro returns 1 if FIFO is full or 0 if not. </p>
<p>Value ctrl have to be a (static) variable from type of McFifoCtrl_ts structure. e.g : </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="structMcFifoCtrl__s.html">McFifoCtrl_ts</a> tsFifoCntrlS;</div>
<div class="line"><span class="keyword">static</span> uint32_t atsFifoDataS[NUMBER_OF_FIFO_ENTRIES];</div>
<div class="line"> </div>
<div class="line">uint32_t * pulFifoInEntryT;</div>
<div class="line">...</div>
<div class="line">if (!<a class="code hl_define" href="mc__fifo_8h.html#a3c30e1126af099f3379dad26694dc2a1">MC_FIFO_FULL</a>(tsMcFifoCtrlS))</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// access to data of FIFO</span></div>
<div class="line">   pulFifoInEntryT = (uint32_t *) <a class="code hl_define" href="mc__fifo_8h.html#a61adc7ea7307b280ad2b8421d7d50109">MC_FIFO_DATA_IN_PTR</a>(tsFifoCntrlS,&amp;aulFifoDataS[0]);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// set new data</span></div>
<div class="line">   *pulFifoInEntryT = 0x01234567;</div>
<div class="line">   ...</div>
<div class="line">   <a class="code hl_define" href="mc__fifo_8h.html#ad0182cb0c61881005400b23a08cb6d74">MC_FIFO_INC_IN</a>(tsMcFifoCtrlS);</div>
<div class="line"> }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line"> {</div>
<div class="line">   <span class="keywordflow">return</span> CpErr_FIFO_FULL;</div>
<div class="line"> }</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ad0182cb0c61881005400b23a08cb6d74" name="ad0182cb0c61881005400b23a08cb6d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0182cb0c61881005400b23a08cb6d74">&#9670;&#160;</a></span>MC_FIFO_INC_IN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MC_FIFO_INC_IN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctrl</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">         <span class="keywordflow">do</span> {                                                        \</div>
<div class="line">            ctrl.ulIndexIn++;                                        \</div>
<div class="line">            if (ctrl.ulIndexIn &gt;= ctrl.ulIndexMax)                   \</div>
<div class="line">            {                                                        \</div>
<div class="line">               ctrl.ulIndexIn = 0;                                   \</div>
<div class="line">            }                                                        \</div>
<div class="line">            ctrl.ulState = 0x0000;                                   \</div>
<div class="line">            if (ctrl.ulIndexIn == ctrl.ulIndexOut)                   \</div>
<div class="line">            {                                                        \</div>
<div class="line">               ctrl.ulState = 0x02;                                  \</div>
<div class="line">            }                                                        \</div>
<div class="line">         } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>This macro have to be execute when data was written to the FIFO. </p>
<p>Value ctrl have to be a (static) variable from type of McFifoCtrl_ts structure. </p>

</div>
</div>
<a id="a18729b62897b8af08bd5cf5616a318c0" name="a18729b62897b8af08bd5cf5616a318c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18729b62897b8af08bd5cf5616a318c0">&#9670;&#160;</a></span>MC_FIFO_INC_OUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MC_FIFO_INC_OUT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctrl</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">         <span class="keywordflow">do</span> {                                                        \</div>
<div class="line">            ctrl.ulIndexOut++;                                       \</div>
<div class="line">            if (ctrl.ulIndexOut &gt;= ctrl.ulIndexMax)                  \</div>
<div class="line">            {                                                        \</div>
<div class="line">               ctrl.ulIndexOut = 0;                                  \</div>
<div class="line">            }                                                        \</div>
<div class="line">            ctrl.ulState = 0x0000;                                   \</div>
<div class="line">            if (ctrl.ulIndexIn == ctrl.ulIndexOut)                   \</div>
<div class="line">            {                                                        \</div>
<div class="line">               ctrl.ulState = 0x01;                                  \</div>
<div class="line">            }                                                        \</div>
<div class="line">         } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>This macro have to be execute when data was read from the FIFO. </p>
<p>Value ctrl have to be a (static) variable from type of McFifoCtrl_ts structure. </p>

</div>
</div>
<a id="ac31899fe33c496afce6f680e7b4eff65" name="ac31899fe33c496afce6f680e7b4eff65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31899fe33c496afce6f680e7b4eff65">&#9670;&#160;</a></span>MC_FIFO_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MC_FIFO_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ctrl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">         <span class="keywordflow">do</span> {                                                        \</div>
<div class="line">            ctrl.ulIndexIn  = 0;                                     \</div>
<div class="line">            ctrl.ulIndexOut = 0;                                     \</div>
<div class="line">            ctrl.ulIndexMax = size;                                  \</div>
<div class="line">            ctrl.ulState    = 0x01;                                  \</div>
<div class="line">         } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Initialise FIFO. </p>
<p>Value ctrl have to be a (static) variable from type of a McFifoCtrl_ts. Value size gives number of entries the FIFO contains.</p>
<p>Here is an example for initialisation of FIFO: </p><div class="fragment"><div class="line">...</div>
<div class="line"><span class="comment">// define example FIFO</span></div>
<div class="line">#define NUMBER_OF_FIFO_ENTRIES   20</div>
<div class="line"><span class="keyword">static</span> <a class="code hl_struct" href="structMcFifoCtrl__s.html">McFifoCtrl_ts</a> tsMcFifoCtrlS;</div>
<div class="line"><span class="keyword">static</span> uint32_t atsFifoDataS[NUMBER_OF_FIFO_ENTRIES];</div>
<div class="line">...</div>
<div class="line"><span class="comment">// initialise example FIFO</span></div>
<div class="line">MC_FIFO_INIT(tsMcFifoCtrlS, NUMBER_OF_FIFO_ENTRIES);</div>
</div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>It is important that NUMBER_OF_FIFO_ENTRIES value that was used for aulFifoDataS[] declaration is &gt;= as value that is used with <a class="el" href="mc__fifo_8h.html#ac31899fe33c496afce6f680e7b4eff65" title="Initialise FIFO.">MC_FIFO_INIT()</a>; </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_6887179d8fe86910a5bf36fb6ffab179.html">misc</a></li><li class="navelem"><a class="el" href="mc__fifo_8h.html">mc_fifo.h</a></li>
    <li class="footer"><a href="https://www.microcontrol.net">&copy; MicroControl GmbH &amp; Co. KG</a> Mon Jul 3 2023 </li>
  </ul>
</div>
</body>
</html>
